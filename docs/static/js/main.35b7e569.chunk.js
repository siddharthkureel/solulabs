(this.webpackJsonpsolulabs=this.webpackJsonpsolulabs||[]).push([[0],{10:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),i=c(4),a=c.n(i),r=c(2),o=c(0),b={container:{display:"flex",backgroundColor:"#253038",height:"auto",width:"600px",color:"white"},name:{color:"white",margin:"auto 0"},table:{width:"50%",lineHeight:"1.4",padding:"10px"},tbody:{textAlign:"center"}},j=function(e){var t=e.connect,c=e.setUpdate,s=e.update,i=e.disconnect,a=Object(n.useState)([]),j=Object(r.a)(a,2),d=j[0],l=j[1],O=Object(n.useState)([]),u=Object(r.a)(O,2),h=u[0],x=u[1],p=Object(n.useState)(0),f=Object(r.a)(p,2),y=f[0],g=f[1],v=[],S=[];return Object(n.useEffect)((function(){var e=new WebSocket("wss://api-pub.bitfinex.com/ws/2");if(t){var n=JSON.stringify({event:"subscribe",channel:"book",symbol:"tBTCUSD",freq:"F1"});e.onopen=function(){return e.send(n)},e.onmessage=function(e){var t=JSON.parse(e.data);if(Array.isArray(t[1])){if(t[1].length>10)g(t[0]),t[1].forEach((function(e){e[2]>0?v.push(e):S.push(e)})),setTimeout((function(){c(!0)}),100);else if(s){var n=t[1];n[2]>0?(v.unshift(n),v.pop()):(S.unshift(n),S.pop())}l(v),x(S)}}}if(i)try{e.send({event:"unsubscribe",chanId:y})}catch(a){console.log(a)}}),[t,s,i]),Object(o.jsxs)("div",{style:b.container,children:[Object(o.jsxs)("table",{style:b.table,children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Total"}),Object(o.jsx)("th",{children:"Price"})]})}),Object(o.jsx)("tbody",{style:b.tbody,children:d?d.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e[2].toFixed(2)}),Object(o.jsx)("td",{children:e[0]})]},t)})):Object(o.jsx)("div",{})})]}),Object(o.jsxs)("table",{style:b.table,children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Price"}),Object(o.jsx)("th",{children:"Total"})]})}),Object(o.jsx)("tbody",{style:b.tbody,children:h?h.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e[0]}),Object(o.jsx)("td",{children:e[2].toFixed(2)})]},t)})):Object(o.jsx)("div",{})})]})]})},d=c.p+"static/media/bitcoin-logo.24f2f953.png",l={container:{display:"flex",backgroundColor:"#253038",height:"120px",width:"600px",lineHeight:"1.4"},logo:{height:"40px",width:"50px",backgroundImage:"url(".concat(d,")"),backgroundRepeat:"no-repeat",backgroundSize:"40px 40px",margin:"auto 15px"},left:{color:"white",margin:"auto 0"},subContainer:{display:"flex",height:"120px",width:"100%",justifyContent:"space-between",padding:"0 20px"}},O=function(e){var t=e.connect,c=e.disconnect,s=Object(n.useState)(0),i=Object(r.a)(s,2),a=i[0],b=i[1],j=Object(n.useState)(0),d=Object(r.a)(j,2),O=d[0],u=d[1],h=Object(n.useState)(0),x=Object(r.a)(h,2),p=x[0],f=x[1],y=Object(n.useState)(0),g=Object(r.a)(y,2),v=g[0],S=g[1],m=Object(n.useState)(0),w=Object(r.a)(m,2),k=w[0],C=w[1],F=Object(n.useState)(0),J=Object(r.a)(F,2),A=J[0],N=J[1];return Object(n.useEffect)((function(){var e=new WebSocket("wss://api-pub.bitfinex.com/ws/2");if(t){var n=JSON.stringify({event:"subscribe",channel:"ticker",symbol:"tBTCUSD"});e.onopen=function(){return e.send(n)},e.onmessage=function(e){var t=JSON.parse(e.data);if(Array.isArray(t[1])){var c=Object(r.a)(t[1],10),n=c[4],s=c[6],i=c[7],a=c[8],o=c[9];N(t[0]),b(s.toFixed(2)),C(n.toFixed(2)),u(o.toFixed(2)),f(a.toFixed(2)),S(i.toFixed(2))}}}if(c)try{var s=JSON.stringify({event:"unsubscribe",chanId:A});e.onclose=function(){return e.send(s)}}catch(i){console.log(i)}finally{window.location.reload()}}),[t,c]),Object(o.jsxs)("div",{style:l.container,children:[Object(o.jsx)("div",{style:l.logo}),Object(o.jsxs)("div",{style:l.subContainer,children:[Object(o.jsxs)("div",{style:l.left,children:[Object(o.jsx)("span",{children:"BTC/USD"}),Object(o.jsx)("br",{}),Object(o.jsxs)("span",{children:["VOL \xa0",v]}),Object(o.jsx)("br",{}),Object(o.jsxs)("span",{children:["LOW \xa0",O]})]}),Object(o.jsxs)("div",{style:l.left,children:[Object(o.jsx)("span",{children:a}),Object(o.jsx)("br",{}),Object(o.jsx)("span",{children:k}),Object(o.jsx)("br",{}),Object(o.jsxs)("span",{children:["HIGH \xa0",p]})]})]})]})};var u={container:{display:"table",margin:"auto"}},h=function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)(null),a=Object(r.a)(i,2),b=a[0],d=a[1],l=Object(n.useState)(!1),h=Object(r.a)(l,2),x=h[0],p=h[1];return Object(o.jsxs)("div",{className:"App",style:u.container,children:[Object(o.jsxs)("div",{style:u.buttons,children:[Object(o.jsx)("button",{onClick:function(){s(!0)},children:"Connect"}),Object(o.jsx)("button",{onClick:function(){d(!0)},children:"DisConnect"})]}),Object(o.jsx)(O,{connect:c,disconnect:b}),Object(o.jsx)("br",{}),Object(o.jsx)(j,{connect:c,update:x,setUpdate:p,disconnect:b})]})};a.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(h,{})}),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.35b7e569.chunk.js.map